---
title:  "Using a REST WCF Service"
date:   2012-02-15
canonical: http://blog.staticvoid.co.nz/2012/2/15/using_a_rest_wcf_service
redirect_from:
  - 2012/2/15/using_a_rest_wcf_service
---
I've been having a bit of a play with REST and WCF lately, in the past I've done this with WebAPI, however given this is still BETA software I wasn't able to use it in my current project. When I went back to basic WCF with REST I had a few issues creating a working sample, it’s quite fiddly so I thought I would post the example.

The first thing you need is a contract, here's mine:

<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">ServiceContract</span><span style="font-family: Consolas; font-size: 10pt;">]<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">public</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">interface</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">IHelloService</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">OperationContract</span><span style="font-family: Consolas; font-size: 10pt;">]<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">WebInvoke</span><span style="font-family: Consolas; font-size: 10pt;">(UriTemplate&nbsp;=&nbsp;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"Hello/{name}"</span><span style="font-family: Consolas; font-size: 10pt;">,&nbsp;Method&nbsp;=&nbsp;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"GET"</span><span style="font-family: Consolas; font-size: 10pt;">)]<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">string</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;Hello(</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">string</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;name);<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></div>

As with all WCF stuff you need your service and operation contracts, in addition for rest you need to use WebInvoke to tell it about the URL and Method you are using, fairly straight forward.

Then a concrete implementation of the contract like this:

<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">AspNetCompatibilityRequirements</span><span style="font-family: Consolas; font-size: 10pt;">(<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RequirementsMode=</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">AspNetCompatibilityRequirementsMode</span><span style="font-family: Consolas; font-size: 10pt;">.Required)]<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">public</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">class</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">HelloService</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;:&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">IHelloService</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">public</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">string</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;Hello(</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">string</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;name)<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">return</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">String</span><span style="font-family: Consolas; font-size: 10pt;">.Format(</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"Hello&nbsp;{0}&nbsp;how&nbsp;are&nbsp;you?"</span><span style="font-family: Consolas; font-size: 10pt;">,&nbsp;name);<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<br /></div>

Note the AspNetCompatibilityRequirementsMode header. Unfortunately you seem to
need this in both the Service definition and the web.config, which is a bit
silly IMO.
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;&nbsp;&lt;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">system.serviceModel</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&gt;</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">serviceHostingEnvironment</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;</span><span style="color: red; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">aspNetCompatibilityEnabled</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">=</span><span style="font-family: Consolas; font-size: 10pt;">"</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">true</span><span style="font-family: Consolas; font-size: 10pt;">"</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;/&gt;</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;&nbsp;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&lt;system.serviceModel</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&gt;</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<br /></div>

Then the route binding for the service in your Global.ascx
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<br /></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">private</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">void</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;RegisterRoutes()<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">RouteTable</span><span style="font-family: Consolas; font-size: 10pt;">.Routes.Add(</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">new</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">ServiceRoute</span><span style="font-family: Consolas; font-size: 10pt;">(</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"/hello-service"</span><span style="font-family: Consolas; font-size: 10pt;">,&nbsp;<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">WebServiceHostFactory</span><span style="font-family: Consolas; font-size: 10pt;">(),&nbsp;</span><span style="background: white; color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">typeof</span><span style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: Consolas; font-size: 10pt;">(</span><span style="background: white; color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">HelloService</span><span style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: Consolas; font-size: 10pt;">)));</span><span style="font-family: Consolas; font-size: 10pt;"><o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<br /></div>
This looks pretty simple but what’s important is that you use a derivative of WebServiceHostFactory, if you use a derivative of the older ServiceHostFactory, you won’t get a nice error you will just get a <b>blank page</b> via the browser.

This is all you really need for the host component of the service

To consume the service you can use the following ChannelFactory style.

<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">using</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;(</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">ChannelFactory</span><span style="font-family: Consolas; font-size: 10pt;">&lt;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">IHelloService</span><span style="font-family: Consolas; font-size: 10pt;">&gt;&nbsp;factory =&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">new</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">ChannelFactory</span><span style="font-family: Consolas; font-size: 10pt;">&lt;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">IHelloService</span><span style="font-family: Consolas; font-size: 10pt;">&gt;(<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">WebHttpBinding</span><span style="font-family: Consolas; font-size: 10pt;">(),&nbsp;</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"http://localhost:64373/hello-service"</span><span style="font-family: Consolas; font-size: 10pt;">))<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.Endpoint.Behaviors.Add(</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">new</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;</span><span style="color: #2b91af; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">WebHttpBehavior</span><span style="font-family: Consolas; font-size: 10pt;">());<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<br /></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: blue; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">var</span><span style="font-family: Consolas; font-size: 10pt;">&nbsp;helloService&nbsp;=&nbsp;factory.CreateChannel();<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helloService.Hello(</span><span style="color: #a31515; font-family: Consolas; font-size: 10.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-fareast-language: EN-NZ;">"Luke"</span><span style="font-family: Consolas; font-size: 10pt;">);<o:p></o:p></span></div>
<div class="MsoNormal" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; margin-bottom: 0.0001pt;">
<span style="font-family: Consolas; font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;}<o:p></o:p></span></div>

This is similar to how you would
normally consume a WCF service but with a few important differences

 <ul>
 <li> You must use a WebHttpBinding derivative or you will get a SOAP exception similar to the following:
<br/>
 <span style="color: red;"><i>There was no endpoint listening at
http://localhost:64373/ that could accept the message. This is often caused by
an incorrect address or SOAP action. See InnerException, if present, for more
details.</i></span>
</li>
<li>
You must add the WebHttpBehavior to the endpoint, I found this quite counter intuitive. If you don't you will get an error similar to the following:
</br>
<span style="color: red;"><i>Manual addressing is enabled on this factory, so all messages sent must be pre-addressed.</i></span>
</li>
</ul>

Avoiding these gotchas will let you create REST services with WCF
