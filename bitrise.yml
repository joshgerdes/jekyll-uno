options:
  jekyll:
    config: jekyll-config
configs:
  jekyll:
    jekyll-config: |
      format_version: "6"
      default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git
      project_type: jekyll
      trigger_map:
      - push_branch: '*'
        workflow: primary
      - pull_request_source_branch: '*'
        workflow: primary
      workflows:
        primary:
          steps:
          - activate-ssh-key@4.0.3:
              run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
          - git-clone@4.0.13: {}
          - cache-pull@2.0.1: {}
          - script@1.1.5:
              title: Do anything with Script step
          - script@1.1.5:
              title: Install dependencies & build
              inputs:
              - content: |
                  #!/usr/bin/env bash
                  # fail if any commands fails
                  set -e
                  # debug log
                  set -x
                  bundle install && bundle exec jekyll build
          - deploy-to-bitrise-io@1.3.18: {}
          - cache-push@2.0.5: {}
warnings:
  jekyll: []
